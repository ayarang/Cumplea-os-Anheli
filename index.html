<!DOCTYPE html>
<html>
<head>
    <title>¡Feliz Cumpleaños Anheli!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow-x: hidden;
            padding: 20px;
        }

        /* Rosas moradas optimizadas para móvil */
        .rose {
            position: absolute;
            font-size: 1.8em;
            z-index: 2;
            animation: floatRose 6s infinite ease-in-out;
            display: none;
        }

        @media (min-width: 768px) {
            .rose {
                display: block;
                font-size: 2.2em;
            }
            .rose:nth-child(1) { top: 10%; left: 5%; }
            .rose:nth-child(2) { top: 15%; right: 8%; }
            .rose:nth-child(3) { bottom: 20%; left: 10%; }
            .rose:nth-child(4) { bottom: 15%; right: 5%; }
        }

        /* Tarjeta principal responsive */
        .card {
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 500px;
            position: relative;
            z-index: 3;
            backdrop-filter: blur(10px);
            margin: 10px;
        }

        h1 {
            color: #8B5CF6;
            font-size: 2em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #8B5CF6, #EC4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @media (min-width: 768px) {
            h1 {
                font-size: 2.5em;
            }
            .card {
                padding: 40px 30px;
                max-width: 600px;
            }
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin: 25px 0;
        }

        @media (min-width: 480px) {
            .options {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
        }

        .btn {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            border: none;
            padding: 15px 12px;
            border-radius: 12px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.3);
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        @media (min-width: 768px) {
            .btn {
                padding: 18px 15px;
                font-size: 1.1em;
                min-height: 70px;
            }
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.4);
        }

        .hidden {
            display: none;
        }

        .message {
            background: linear-gradient(135deg, #FFF9C4, #FFEB3B);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 4px solid #8B5CF6;
        }

        .photo-gallery {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .photo-frame {
            width: 120px;
            height: 120px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        @media (min-width: 768px) {
            .photo-frame {
                width: 150px;
                height: 150px;
            }
        }

        .memories-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .memory-btn {
            background: linear-gradient(135deg, #7E57C2, #5E35B1);
            font-size: 0.95em;
            padding: 14px 10px;
            min-height: 55px;
        }

        .memory-detail {
            background: linear-gradient(135deg, #F3E5F5, #E1BEE7);
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
            border-left: 4px solid #7E57C2;
        }

        .back-btn {
            background: linear-gradient(135deg, #5E35B1, #4527A0);
            margin-top: 15px;
            padding: 12px 20px;
        }

        @keyframes floatRose {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1);
            }
            50% { 
                transform: translateY(-15px) rotate(5deg) scale(1.05);
            }
        }

        .subtitle {
            color: #6B7280;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        @media (min-width: 768px) {
            .subtitle {
                font-size: 1.2em;
            }
        }

        .birthday-count {
            background: linear-gradient(135deg, #FF6B6B, #FFE66D);
            padding: 10px 15px;
            border-radius: 10px;
            margin: 10px 0;
            font-weight: bold;
            color: #374151;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        /* Estilos para la sección de velas */
        .cake-section {
            background: linear-gradient(135deg, #FFF9C4, #FFEB3B);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 4px solid #8B5CF6;
        }

        .cake-container {
            position: relative;
            width: 280px;
            height: 300px;
            margin: 0 auto;
        }

        .cake {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 80px;
            background: linear-gradient(to bottom, #f8c471, #e67e22);
            border-radius: 10px 10px 0 0;
            z-index: 1;
        }

        .cake-top {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 220px;
            height: 30px;
            background: linear-gradient(to bottom, #ff9ff3, #f368e0);
            border-radius: 50% 50% 0 0;
        }

        .candle {
            position: absolute;
            bottom: 110px;
            width: 12px;
            height: 60px;
            background: linear-gradient(to bottom, #ffffff, #e74c3c);
            border-radius: 5px;
            z-index: 2;
        }

        .candle:nth-child(1) {
            left: 25%;
        }

        .candle:nth-child(2) {
            left: 40%;
        }

        .candle:nth-child(3) {
            left: 60%;
        }

        .candle:nth-child(4) {
            left: 75%;
        }

        .flame {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 15px;
            height: 25px;
            background: linear-gradient(to bottom, #ffeb3b, #ff5722);
            border-radius: 50% 50% 20% 20%;
            box-shadow: 0 0 10px #ff9800, 0 0 20px #ff5722;
            animation: flicker 1.5s infinite alternate;
            z-index: 3;
            cursor: pointer;
        }

        .flame.blown {
            opacity: 0;
            transform: translateX(-50%) scale(0.5);
            transition: all 0.5s ease;
        }

        .instructions {
            margin-top: 20px;
            font-size: 1.2em;
            color: #7E57C2;
            font-weight: bold;
        }

        .wish-message {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            display: none;
            animation: fadeIn 1s ease;
        }

        /* Control de música mejorado */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .music-btn {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-btn:hover {
            transform: scale(1.1);
        }

        .music-btn.playing {
            background: linear-gradient(135deg, #10B981, #059669);
        }

        .music-btn.muted {
            background: linear-gradient(135deg, #6B7280, #4B5563);
        }

        .music-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            flex-direction: column;
            color: white;
        }

        .music-popup-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 300px;
            color: #333;
        }

        .popup-btn {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .popup-btn:hover {
            transform: translateY(-2px);
        }

        @keyframes flicker {
            0%, 100% {
                transform: translateX(-50%) scaleY(1);
            }
            50% {
                transform: translateX(-50%) scaleY(1.1);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Popup de activación de música -->
    <div id="musicPopup" class="music-popup" style="display: none;">
        <div class="music-popup-content">
            <h3 style="color: #7E57C2; margin-bottom: 15px;">🎵 Activar Música 🎵</h3>
            <p style="margin-bottom: 20px; color: #6B7280;">Para una mejor experiencia, activa la música de fondo</p>
            <button class="popup-btn" onclick="activateMusic()">🎵 Activar Música</button>
            <button class="popup-btn" onclick="closeMusicPopup()" style="background: linear-gradient(135deg, #6B7280, #4B5563);">Continuar sin Música</button>
        </div>
    </div>

    <!-- Control de música -->
    <div class="music-control">
        <button class="music-btn" id="musicToggle">🔇</button>
    </div>

    <!-- Rosas moradas -->
    <div class="rose">💜</div>
    <div class="rose">🌹</div>
    <div class="rose">💜</div>
    <div class="rose">🌹</div>

    <div class="card">
        <div class="card-header">
            <h1>🎉 ¡Feliz Cumpleaños Anheli! 🎂</h1>
            <div class="subtitle">31 de Octubre - Tu día especial</div>
            <div class="birthday-count" id="birthdayCounter"></div>
            <div style="font-size: 1.3em; margin: 12px 0;">✨ 🌟 ✨</div>
        </div>
        
        <p style="color: #6B7280; font-size: 1em; margin-bottom: 8px;">
            Descubre todas las sorpresas:
        </p>
        
        <div class="options">
            <button class="btn" onclick="showMessage()">💌 Mensaje</button>
            <button class="btn" onclick="showPhotos()">📸 Galería</button>
            <button class="btn" onclick="showMemories()">📖 Recuerdos</button>
            <button class="btn" onclick="showCake()">🎂 Velas</button>
        </div>

        <!-- SECCIÓN MENSAJE ESPECIAL -->
        <div id="message" class="hidden message">
            <h3 style="color: #7E57C2; margin-bottom: 15px; font-size: 1.3em;">💜 My Queen Anheli 💜</h3>
            <div style="text-align: left; line-height: 1.6; font-size: 1em; color: #374151;">
                <p>✨ Eres increíblemente valiosa para mí. Cada momento a tu lado es un tesoro. ✨</p>
                <p>🌙 Eres esa luz que guía mis pasos cuando todo se oscurece. 🌙</p>
                <p>🎀 Mereces todo lo bueno y maravilloso que la vida pueda ofrecer. 🎀</p>
                <p>⭐ Que cada uno de tus sueños se haga realidad. ⭐</p>
            </div>
            <div style="margin: 20px 0; font-size: 1.3em;">
                💖 🌹 💖
            </div>
            <p style="text-align: center; font-size: 1.2em; margin-top: 15px;">
                🎆 FELIZ CUMPLEAÑOS 🎇
            </p>
        </div>

        <!-- SECCIÓN GALERÍA -->
        <div id="photos" class="hidden message">
            <h3 style="color: #7E57C2; margin-bottom: 15px; font-size: 1.3em;">📸 Galería</h3>
            <p style="color: #6B7280; margin-bottom: 15px; font-size: 0.95em;">Momentos especiales que atesoro</p>
            
            <div class="photo-gallery">
                <div class="photo-frame">
                    <img src="IMG_20251004_160940.jpg" alt="Nuestro momento especial" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="photo-frame">
                    <img src="IMG_20250913_171158.jpg" alt="Momento especial 2" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="photo-frame">
                    <img src="IMG_20250914_155637.jpg" alt="Momento especial 3" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="photo-frame" style="background: linear-gradient(135deg, #8B5CF6, #EC4899); display: flex; align-items: center; justify-content: center; color: white; font-size: 2em;">
                    💖
                </div>
            </div>
            
            <p style="margin-top: 15px; color: #6B7280; font-size: 0.9em;">
                Cada foto cuenta nuestra historia 💕
            </p>
        </div>

        <!-- SECCIÓN RECUERDOS -->
        <div id="memories" class="hidden message">
            <h3 style="color: #7E57C2; margin-bottom: 15px; font-size: 1.3em;">📖 Nuestros Recuerdos</h3>
            <p style="color: #6B7280; margin-bottom: 15px; font-size: 0.95em;">Elige un recuerdo especial</p>
            
            <div class="memories-options">
                <button class="btn memory-btn" onclick="showMemory('memory1')">💫 mi plan era conocerte</button>
                <button class="btn memory-btn" onclick="showMemory('memory2')">🍳  cuando cocine para ti</button>
                <button class="btn memory-btn" onclick="showMemory('memory3')">🏃 Escape de álgebra</button>
                <button class="btn memory-btn" onclick="showMemory('memory4')">📞 Tu llamada</button>
                <button class="btn memory-btn" onclick="showMemory('memory5')">⚡ Día de pelea</button>
                <button class="btn memory-btn" onclick="showMemory('memory6')">🎥 Video despedida</button>
                <button class="btn memory-btn" onclick="showMemory('memory7')">💜 Lo más valioso</button>
                <button class="btn memory-btn" onclick="showMemory('memory8')">🎁 15 de enero</button>
                <button class="btn memory-btn" onclick="showMemory('memory9')">⏰ Tarde a Admin</button>
                <button class="btn memory-btn" onclick="showMemory('memory10')">💌 Te dije "me gustas"</button>
            </div>

            <!-- Sub-secciones de recuerdos -->
            <div id="memory1" class="memory-detail hidden">
                <h4 style="color: #5E35B1; font-size: 1.1em;">💫 mi plan era conocerte</h4>
                <div style="background: rgba(139, 92, 246, 0.1); padding: 15px; border-radius: 10px; margin: 15px 0;">
                    <p style="line-height: 1.6; color: #374151; font-size: 0.95em; text-align: left;">
                        cuando por primera vez escuché tu voz te quería conocer, es que hablamas muy diferente a los demas, la forma como hablabas y el tono de tu voz, eran unicos siempre desde te quise conocer, pero no sabia como acercarme. te recuerdas cuando el profesor de Desempeño, dijo ruleta, yo estaba diciendo en mi mente que me toque con ella, y fui asi, cuando estuviste en mi grupo dije: soy un crack siempre consigo lo que quiero, y estaba feliz. pero eso fue el primer paso, siempre te quise hablar en el salon pero siempre estabas con Henrik y no podia, pero no se como asi me empesate hablar, creo que no podias acceder a tu portal, Gracias al curso de desempeño, hemos sido algo más cercanos. Pero lo que más recuerdo fue cuando en el colectivo nos encontramos y te di una palmada en tu frente, ahi estaba rebosando de alegria, dando palmadita era mi forma de querer. Que coinsidencia cuando ese dia justo el dia de tus cumpleaños nos hemos sentado juntos y estabamos hablando ese dia para mi fue chevere por que pube socializar contigo, cuando me dijiste que era tu cumpleaños yo pense que me estaba bromeando, creo que desde ese dia hemos empezado con los chismis. 
                </div>
                <button class="btn back-btn" onclick="backToMemories()">← Volver a Recuerdos</button>
            </div>

            <!-- ... (el resto de las memorias se mantienen igual) ... -->

        </div>

        <!-- SECCIÓN VELAS INTERACTIVAS -->
        <div id="cake" class="hidden cake-section">
            <h3 style="color: #7E57C2; margin-bottom: 15px; font-size: 1.3em;">🎂 ¡Sopla las Velas! 🕯️</h3>
            <p style="color: #6B7280; margin-bottom: 15px; font-size: 0.95em;">Toca cada vela para apagarla y pedir tu deseo</p>
            
            <div class="cake-container">
                <div class="cake-top"></div>
                <div class="cake"></div>
                
                <div class="candle">
                    <div class="flame" id="flame1"></div>
                </div>
                <div class="candle">
                    <div class="flame" id="flame2"></div>
                </div>
                <div class="candle">
                    <div class="flame" id="flame3"></div>
                </div>
                <div class="candle">
                    <div class="flame" id="flame4"></div>
                </div>
            </div>
            
            <div class="instructions" id="instructions">
                👆 Toca la pantalla para soplar las velas
            </div>
            
            <div class="wish-message" id="wishMessage">
                <h3 style="color: #7E57C2; margin-bottom: 10px;">✨ ¡Tu deseo se hará realidad! ✨</h3>
                <p>Que este nuevo año de vida esté lleno de alegría, amor y momentos inolvidables. 💖</p>
                <div style="margin-top: 15px; font-size: 1.5em;">🎉 🎂 🎁</div>
            </div>
        </div>
    </div>

    <!-- Audio para la música de fondo -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="K-kop.m4a" type="audio/mp4">
        <source src="K-kop.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>

    <script>
        // Variables globales
        let musicPlaying = false;
        let userInteracted = false;
        const backgroundMusic = document.getElementById('backgroundMusic');
        const musicToggle = document.getElementById('musicToggle');
        const musicPopup = document.getElementById('musicPopup');

        // Contador de cumpleaños
        function updateBirthdayCounter() {
            const now = new Date();
            const birthday = new Date(now.getFullYear(), 9, 31);
            const counter = document.getElementById('birthdayCounter');
            
            if (now.getMonth() === 9 && now.getDate() === 31) {
                counter.innerHTML = "🎉 ¡HOY ES TU DÍA ESPECIAL! 🎂";
            } else {
                if (now > birthday) {
                    birthday.setFullYear(birthday.getFullYear() + 1);
                }
                const diffTime = birthday - now;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                counter.innerHTML = `Faltan ${diffDays} días para tu cumpleaños ✨`;
            }
        }

        // Funciones de navegación
        function showMessage() {
            hideAll();
            document.getElementById('message').style.display = 'block';
        }

        function showPhotos() {
            hideAll();
            document.getElementById('photos').style.display = 'block';
        }

        function showMemories() {
            hideAll();
            document.getElementById('memories').style.display = 'block';
        }

        function showCake() {
            hideAll();
            document.getElementById('cake').style.display = 'block';
            resetCandles();
        }

        function hideAll() {
            document.getElementById('message').style.display = 'none';
            document.getElementById('photos').style.display = 'none';
            document.getElementById('memories').style.display = 'none';
            document.getElementById('cake').style.display = 'none';
        }

        // Funciones para recuerdos
        function showMemory(memoryId) {
            document.querySelector('.memories-options').style.display = 'none';
            document.getElementById(memoryId).style.display = 'block';
        }

        function backToMemories() {
            document.querySelectorAll('.memory-detail').forEach(el => {
                el.style.display = 'none';
            });
            const memoriesOptions = document.querySelector('.memories-options');
            if (memoriesOptions) {
                memoriesOptions.style.display = 'grid';
            }
        }

        // Funcionalidad de velas interactivas
        let candlesBlown = 0;
        const totalCandles = 4;
        
        function resetCandles() {
            candlesBlown = 0;
            for (let i = 1; i <= totalCandles; i++) {
                const flame = document.getElementById(`flame${i}`);
                flame.classList.remove('blown');
            }
            document.getElementById('instructions').style.display = 'block';
            document.getElementById('wishMessage').style.display = 'none';
        }

        // Control de música mejorado
        function toggleMusic() {
            userInteracted = true;
            if (musicPlaying) {
                backgroundMusic.pause();
                musicToggle.textContent = '🔇';
                musicToggle.classList.remove('playing');
                musicToggle.classList.add('muted');
            } else {
                backgroundMusic.play().then(() => {
                    musicPlaying = true;
                    musicToggle.textContent = '🎵';
                    musicToggle.classList.remove('muted');
                    musicToggle.classList.add('playing');
                }).catch(e => {
                    console.log('Error al reproducir:', e);
                    showMusicError();
                });
            }
        }

        function activateMusic() {
            userInteracted = true;
            closeMusicPopup();
            toggleMusic();
        }

        function closeMusicPopup() {
            musicPopup.style.display = 'none';
            userInteracted = true;
        }

        function showMusicError() {
            alert('No se pudo cargar la música. Verifica que el archivo K-kop.m4a esté en la misma carpeta.');
        }

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            updateBirthdayCounter();
            
            // Configurar control de música
            musicToggle.addEventListener('click', toggleMusic);
            
            // Mostrar popup después de un tiempo si no hay interacción
            setTimeout(() => {
                if (!userInteracted) {
                    musicPopup.style.display = 'flex';
                }
            }, 2000);

            // Intentar cargar música cuando el usuario interactúe con la página
            document.addEventListener('click', function() {
                if (!userInteracted) {
                    userInteracted = true;
                    // Esperar un momento antes de intentar reproducir
                    setTimeout(() => {
                        if (!musicPlaying) {
                            backgroundMusic.play().then(() => {
                                musicPlaying = true;
                                musicToggle.textContent = '🎵';
                                musicToggle.classList.add('playing');
                            }).catch(e => {
                                console.log('Reproducción automática bloqueada');
                            });
                        }
                    }, 500);
                }
            });

            // Configurar velas
            for (let i = 1; i <= totalCandles; i++) {
                const flame = document.getElementById(`flame${i}`);
                flame.addEventListener('click', function() {
                    if (!this.classList.contains('blown')) {
                        this.classList.add('blown');
                        candlesBlown++;
                        
                        if (candlesBlown === totalCandles) {
                            setTimeout(function() {
                                document.getElementById('instructions').style.display = 'none';
                                document.getElementById('wishMessage').style.display = 'block';
                            }, 800);
                        }
                    }
                });
            }
            
            document.getElementById('cake').addEventListener('click', function(event) {
                if (!event.target.classList.contains('flame')) {
                    for (let i = 1; i <= totalCandles; i++) {
                        const flame = document.getElementById(`flame${i}`);
                        if (!flame.classList.contains('blown')) {
                            flame.classList.add('blown');
                            candlesBlown++;
                            
                            if (candlesBlown === totalCandles) {
                                setTimeout(function() {
                                    document.getElementById('instructions').style.display = 'none';
                                    document.getElementById('wishMessage').style.display = 'block';
                                }, 800);
                            }
                            break;
                        }
                    }
                }
            });
        });

        // Manejar errores de audio
        backgroundMusic.addEventListener('error', function(e) {
            console.log('Error de audio:', e);
            showMusicError();
        });

        backgroundMusic.addEventListener('canplaythrough', function() {
            console.log('Audio listo para reproducir');
        });
    </script>
</body>
</html>
